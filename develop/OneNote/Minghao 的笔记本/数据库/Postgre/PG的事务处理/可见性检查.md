可见性检查规则是一组规则，用于确定一条元组是否对一个事务可见，可见性检查规则会用到元组的t_xmin和t_xmax，提交日志CLOG，以及已获取的事务快照。
 
Q：为什么 snapshot 中 xmin 之前的事务都已经是非活跃的，但是后面做可见性检查的时候还是需要clog呢  
A：因为非活跃意味着 commit or abort，如果是 abort 的话，即使是插入的数据，也是不可见的
 ![Exported image](Exported%20image%2020260212171525-0.png)  
![Exported image](Exported%20image%2020260212171526-1.png)  

仔细观察页面布局，你会发现，在事务498中，我插入了一条 a = 3 的事务，他的 xmin 是 498，但是我rollback了，因此该条元组实际上是没有插入成功的，查看页面布局你会发现，xmax值是0，确实，符合xmax的定义，更新或者删除该条元组的事务id，==此时需要结合== ==clog== ==确认事务== ==498== ==到底是== ==committed== ==还是== ==aborted==
 
看书上描述我觉得是先访问 CLOG 确认元组 tmin 的事务的状态，如果是 ABORTED，根本就没有真实写入，那么也就不需要根据 snapshot 确认了，如果是当前事务，那肯定可见的